(this["webpackJsonpparty-chat"]=this["webpackJsonpparty-chat"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),o=n(3),a=n.n(o),i=n(4);n(10);var s=function(){new WebSocket("wss://chatapp.progmasters.hu/socket");var e,t,n=Object(r.useRef)(null),o=(Object(r.useRef)([]),Object(r.useState)([])),a=Object(i.a)(o,2),s=a[0],u=a[1];return Object(r.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:{frameRate:{ideal:10,max:15},width:1280,height:720,facingMode:"user"}}).then((function(c){n.current.srcObject=c,function(c){var r={offerToReceiveAudio:!0,offerToReceiveVideo:!0};e=new RTCPeerConnection({configuration:r,iceServers:[]}),t=new RTCPeerConnection(r),c.getTracks().forEach((function(t){e.addTrack(t,c)})),t.ontrack=function(e){u(e.streams);for(var t=0;t<e.streams.length;t++)n.current[t].srcObject=e.streams[t]},e.onicecandidate=function(e){return!e.candidate||t.addIceCandidate(e.candidate).catch(console.error)},t.onicecandidate=function(t){return!t.candidate||e.addIceCandidate(t.candidate).catch(console.error)},e.createOffer().then((function(t){return e.setLocalDescription(t)})).then((function(){return t.setRemoteDescription(e.localDescription)})).then((function(){return t.createAnswer()})).then((function(e){return t.setLocalDescription(e)})).then((function(){return e.setRemoteDescription(t.localDescription)})).catch(console.error)}(c)})).catch(console.error)}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("p",{children:"LOCAL"}),Object(c.jsx)("video",{ref:n,width:400,height:300,autoPlay:!0,playsInline:!0}),Object(c.jsx)("p",{children:"REMOTE"}),s.map((function(e,t){return Object(c.jsx)("video",{ref:function(e){return n.current[t]=e},width:400,height:300,autoPlay:!0,playsInline:!0},t)}))]})};a.a.render(Object(c.jsx)(s,{}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.6f16279f.chunk.js.map